{"version":3,"sources":["index.js"],"names":["requestAnimationFrame","scrollAnimation","skill","document","getElementById","skills","characters","gear","style","window","scrollY","targetText","currentText","NEW_CHARACTER_RATE","CHARACTER_CYCLE_RATE","TIME_BETWEEN_TEXT_CHANGES","timeSinceLastNewCharacter","timeSinceLastCycle","skillIndex","textAnimation","time","lastFrameTime","dt","timeSinceLastNewText","length","Math","floor","random","letters","split","forEach","letter","index","nextIndex","indexOf","join","innerHTML"],"mappings":"aAAAA,sBAAsBC,GAAtBD,IAAAA,EAAAA,SAAsBC,eAAtB,QAGMC,EAAQC,SAASC,eAAe,gBAAhCF,EAAQC,CAAAA,MAASC,MAAAA,OAAe,aAAtC,kBAAA,WAAA,YAAA,WAAA,eAEMC,EAAS,6BAEf,SAAMC,IAGJN,sBAAsBC,GADxBM,EAAAC,MAASP,UAAT,UAA2BQ,OAAAC,QAAA,IAAA,IAA3B,OAGC,IAAAC,EAAA,MAGGC,EAAc,MADdD,EAAJ,IACIC,EAAJ,GACMC,EAA0B,IAC1BC,EAAN,EACMC,EAAAA,EACFC,EAAAA,IACAC,EAAAA,EAEAC,OAAAA,EAGJ,SAASC,EAAcC,GADvBpB,sBAAIqB,GACJA,IACErB,EAAAA,GAGC,IAAAsB,EAAAF,EAAAC,EA0BD,GAxBAT,IAAgBS,GAEGV,GACjBY,GAAwBD,KAAxBC,EAAAA,EAAAA,IAAAlB,EAAAmB,QACAD,EAAGA,GAOFX,EAAYY,SAAWb,EAAWa,QACnCX,GADFG,GAA0BL,KAExBK,EAAGA,EACDA,EAAAA,OAAAA,EAAAQ,OACAZ,EAAeY,EAASb,MAAAA,GAAWa,GAIjCZ,GAAeN,EAAWmB,KAAKC,MAAMD,KAAKE,SAAWrB,EAAWkB,UAKnEP,EAAHA,EAAA,CACEA,EAAqB,EACrB,IAAIW,EAAUhB,EAAYiB,MAAM,IAChCD,EAAQE,QAAQ,SAAAC,EAAAC,GACd,GAAAD,IAAGA,EAAWpB,GAAd,CACE,IACIsB,GADgB3B,EAAW4B,QAAQH,GACN,GAAKzB,EAAWkB,OACjDI,EAAQI,GAAS1B,EAAW2B,MAGhCrB,EAAcgB,EAAQO,KAAK,IAE7BlB,GAAsBK,EAEtBD,EAAgBD,EAEhBlB,EAAMkC,UAAYxB,EAGpBZ,sBAAsBmB","file":"index.js","sourcesContent":["requestAnimationFrame(scrollAnimation);\r\n\r\nconst gear = document.getElementById(\"gear\");\r\nconst skill = document.getElementById(\"skill-slider\");\r\n\r\nconst skills = [\"web\", \"css\", \"html\", \"javascript\", \"troubleshooting\", \"creative\", \"debugging\", \"training\", \"advertising\"];\r\n\r\nconst characters = \"abcdefghijklmnopqrstuvwxyz\";\r\n\r\nfunction scrollAnimation() {\r\n  requestAnimationFrame(scrollAnimation);\r\n  gear.style.transform = `rotate(${window.scrollY / 1000 * 360}deg)`;\r\n}\r\n\r\nlet targetText = \"web\";\r\nlet currentText = \"web\";\r\nconst NEW_CHARACTER_RATE = 100; // milliseconds per character\r\nconst CHARACTER_CYCLE_RATE = 50;\r\nconst TIME_BETWEEN_TEXT_CHANGES = 2000;\r\nlet timeSinceLastNewCharacter = 0;\r\nlet timeSinceLastCycle = 0;\r\nlet timeSinceLastNewText = 1000;\r\nlet skillIndex = 0;\r\n\r\nlet lastFrameTime;\r\nfunction textAnimation(time) {\r\n  requestAnimationFrame(textAnimation);\r\n  if(!lastFrameTime) {\r\n    lastFrameTime = time;\r\n  }\r\n  \r\n  let dt = time - lastFrameTime;\r\n  \r\n  if(currentText === targetText) {\r\n    timeSinceLastNewText += dt;\r\n    if(timeSinceLastNewText > TIME_BETWEEN_TEXT_CHANGES) {\r\n      targetText = skills[(skillIndex++) % skills.length];\r\n      timeSinceLastNewText = 0;\r\n    }\r\n  }\r\n  \r\n  \r\n  if(currentText.length !== targetText.length) {\r\n    timeSinceLastNewCharacter += dt;\r\n    if(timeSinceLastNewCharacter > NEW_CHARACTER_RATE) {\r\n      timeSinceLastNewCharacter = 0;\r\n      if(currentText.length > targetText.length) {\r\n        currentText = currentText.slice(0, -1);\r\n      }\r\n      else {\r\n        currentText += characters[Math.floor(Math.random() * characters.length)];\r\n      }\r\n    }\r\n  }\r\n  \r\n  if(timeSinceLastCycle > CHARACTER_CYCLE_RATE) {\r\n    timeSinceLastCycle = 0;\r\n    let letters = currentText.split(\"\");\r\n    letters.forEach((letter, index) => {\r\n      if(letter !== targetText[index]) {\r\n        let alphabetIndex = characters.indexOf(letter);\r\n        let nextIndex = (alphabetIndex + 1) % characters.length;\r\n        letters[index] = characters[nextIndex];\r\n      }\r\n    });\r\n    currentText = letters.join(\"\");\r\n  }\r\n  timeSinceLastCycle += dt;\r\n  \r\n  lastFrameTime = time;\r\n  \r\n  skill.innerHTML = currentText;\r\n}\r\n\r\nrequestAnimationFrame(textAnimation);"]}